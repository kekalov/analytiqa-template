#!/bin/bash
# üö¶ –°—Ç–∞—Ä—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è AnalytiQA (template)
# –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∏ –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

set -e

echo "ü§ñ –ó–∞–ø—É—Å–∫ AnalytiQA Template..."
echo "=================================="

if [ ! -d ".venv" ]; then
    echo "üì¶ –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, —Å–æ–∑–¥–∞—ë–º..."
    python3 -m venv .venv
fi

source .venv/bin/activate

if [ -f requirements.txt ]; then
    echo "üîß –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏..."
    pip install -r requirements.txt
fi

# üëâ –ó–¥–µ—Å—å —Å—Ç–∞—Ä—Ç—É–π—Ç–µ —Å–≤–æ–π ENTRYPOINT, –Ω–∞–ø—Ä–∏–º–µ—Ä: python src/bot.py
# –°–µ–π—á–∞—Å –±–æ—Ç –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç, —Ç.–∫. —ç—Ç–æ —à–∞–±–ª–æ–Ω. –î–∞–ª—å—à–µ ‚Äî –ø–æ –≤–∞—à–µ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.

echo "‚úÖ –í—Å—ë –≥–æ—Ç–æ–≤–æ! –ù–∞—Å—Ç—Ä–æ–π—Ç–µ src/, –¥–æ–±–∞–≤—å—Ç–µ promt.txt –∏ –ª–æ–≥–∏–∫—É ‚Äî –ø–æ—Ç–æ–º –∑–∞–ø—É—Å–∫–∞–π—Ç–µ —Å–≤–æ–π bot."
